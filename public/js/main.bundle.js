!function(e){function t(t){for(var i,o,a=t[0],c=t[1],h=t[2],l=0,f=[];l<a.length;l++)o=a[l],s[o]&&f.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},s={0:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var h=0;h<a.length;h++)t(a[h]);var u=c;r.push([100,1]),n()}({100:function(e,t,n){"use strict";n.r(t);n(25),n(36),n(37),n(62),n(24),n(39),n(40),n(41),n(42),n(70),n(43);var i=n(13),s=n.n(i);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=a(this,c(t).call(this))).$canvas=document.querySelector(".canvas"),e.context=e.$canvas.getContext("2d"),e.$video=document.querySelector(".camera"),e.$captureButton=document.querySelector(".js-capture"),e.startCamera(),e.bind(),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,s.a),n=t,(i=[{key:"bind",value:function(){var e=this;this.$captureButton.addEventListener("click",function(){e.renderCameraImageInCanvas()})}},{key:"startCamera",value:function(){var e=this;navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:300,height:300},audio:!1}).then(function(t){e.$video.srcObject=t}).catch(function(t){console.log(e.$video),alert(t)})}},{key:"stopCamera",value:function(){this.$video.srcObject.getTracks().forEach(function(e){e.stop()}),this.$video.srcObject=null}},{key:"renderCameraImageInCanvas",value:function(){var e=this.$video.offsetWidth,t=this.$video.offsetHeight;this.context.drawImage(this.$video,0,0,e,t),this.$video.classList.add("js-hide"),this.$captureButton.classList.add("js-hide"),this.stopCamera(),this.emit("renderCameraImage",this.context)}}])&&o(n.prototype,i),r&&o(n,r),t}();n(87),n(88),n(94),n(96),n(97);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function e(t,n){k(this,e),this.id=n,this.src="./images/sticker/sticker".concat(t,".png"),this.positionX=100,this.positionY=100,this.width=100,this.height=100},y=function(e){function t(e){var n;return k(this,t),(n=v(this,p(t).call(this))).$canvas=document.querySelector(".canvas"),n.context=n.$canvas.getContext("2d"),n.$offScreen=document.createElement("canvas"),n.$offScreen.width=n.$canvas.width,n.$offScreen.height=n.$canvas.height,n.offScreenContext=n.$offScreen.getContext("2d"),n.$backImageScreen=document.createElement("canvas"),n.$backImageScreen.width=n.$canvas.width,n.$backImageScreen.height=n.$canvas.height,n.backImageScreenContext=n.$backImageScreen.getContext("2d"),n.backImageScreenContext.putImageData(e,0,0),n.context.drawImage(n.$backImageScreen,0,0,300,300),n.$stickerWrapper=document.querySelector(".sticker-wrapper"),n.$stickers=document.querySelectorAll(".js-sticker"),n.$removeStickerButton=document.querySelector(".js-removeSticker"),n.$createImageButton=document.querySelector(".js-createImageButton"),n.isDoubleTouched=!1,n.lastTranslateX=0,n.lastTranslateY=0,n.diffX=0,n.diffY=0,n.lastScreenX=0,n.lastScreenY=0,n.isStickerTouched=!1,n.stickerId=0,n.activeStickerId=0,n.stickersOnCanvas=[],n.stickerPosition_past={x:0,y:0},n.stickerSize_past={width:0,height:0},n.RANGE_OFFSET=5,n.LEFT_LINE=1,n.BOTTOM_LINE=2,n.RIGHT_LINE=4,n.TOP_LINE=8,n.LEFT_TOP_POINT=n.LEFT_LINE+n.TOP_LINE,n.LEFT_BOTTOM_POINT=n.LEFT_LINE+n.BOTTOM_LINE,n.RIGHT_BOTTOM_POINT=n.RIGHT_LINE+n.BOTTOM_LINE,n.RIGHT_TOP_POINT=n.RIGHT_LINE+n.TOP_LINE,n.clickProperty=0,n.$stickerWrapper.classList.remove("js-hide"),n.$removeStickerButton.classList.remove("js-hide"),n.$createImageButton.classList.remove("js-hide"),n.bind(),n}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,s.a),n=t,(i=[{key:"bind",value:function(){var e=this;this.$canvas.addEventListener("mousedown",function(t){e.handleMouseDown(t)}),this.$canvas.addEventListener("mousemove",function(t){e.handleMouseMove(t)}),document.addEventListener("mouseup",function(t){e.handleMouseUp(t)}),f(this.$stickers).forEach(function(t){t.addEventListener("click",function(n){e.handleClickStickerList(t,n)})}),this.$removeStickerButton.addEventListener("click",function(){e.stickersOnCanvas.splice(e.stickersOnCanvas.length-1,1),e.renderStickers()}),this.$createImageButton.addEventListener("click",function(){e.renderOutputImage(),e.$stickerWrapper.classList.add("js-hide"),e.$removeStickerButton.classList.add("js-hide"),e.$createImageButton.classList.add("js-hide"),e.createImage(),document.querySelector(".image-wrapper").classList.remove("js-hide")})}},{key:"handleMouseDown",value:function(e){var t=e.screenX,n=e.screenY;this.lastScreenX=t,this.lastScreenY=n,this.isStickerTouched=this.judgeWhereClickOnTheSticker(e),this.isStickerTouched&&(this.decideOperatedSticker(e),this.renderStickers())}},{key:"handleMouseMove",value:function(e){if(!1!==this.isStickerTouched){var t=e.screenX,n=e.screenY;this.diffX=t-this.lastScreenX,this.diffY=n-this.lastScreenY,this.lastTranslateX+=this.diffX,this.lastTranslateY+=this.diffY,this.operateSticker(),this.renderStickers(),this.lastScreenX=t,this.lastScreenY=n}}},{key:"handleMouseUp",value:function(){this.isStickerTouched=!1,this.lastTranslateX=0,this.lastTranslateY=0,this.clickProperty=0}},{key:"judgeWhereClickOnTheSticker",value:function(e){for(var t=!1,n=0;n<this.stickersOnCanvas.length;n++){var i=this.stickersOnCanvas[n],s=i.positionX,r=i.positionX+i.width,o=i.positionY,a=i.positionY+i.height;n===this.stickersOnCanvas.length-1&&(s-=this.RANGE_OFFSET,r+=this.RANGE_OFFSET,o-=this.RANGE_OFFSET,a+=this.RANGE_OFFSET),s<=e.offsetX&&e.offsetX<=r&&o<=e.offsetY&&e.offsetY<=a?(this.activeStickerId=i.id,n===this.stickersOnCanvas.length-1&&this.judgeClickOnTheLine(e,s,r,o,a),console.log("onSticker"),t=!0):console.log("notOnSticker")}return t}},{key:"judgeClickOnTheLine",value:function(e,t,n,i,s){this.judgeLeftLine(e.offsetX,t),this.judgeBottomLine(e.offsetY,s),this.judgeRightLine(e.offsetX,n),this.judgeTopLine(e.offsetY,i)}},{key:"judgeLeftLine",value:function(e,t){t<=e&&e<=t+2*this.RANGE_OFFSET&&(this.clickProperty+=this.LEFT_LINE)}},{key:"judgeBottomLine",value:function(e,t){t-2*this.RANGE_OFFSET<=e&&e<=t&&(this.clickProperty+=this.BOTTOM_LINE)}},{key:"judgeRightLine",value:function(e,t){t-2*this.RANGE_OFFSET<=e&&e<=t&&(this.clickProperty+=this.RIGHT_LINE)}},{key:"judgeTopLine",value:function(e,t){t<=e&&e<=t+2*this.RANGE_OFFSET&&(this.clickProperty+=this.TOP_LINE)}},{key:"operateSticker",value:function(){0===this.clickProperty?this.moveSticker():this.resizeSticker()}},{key:"decideOperatedSticker",value:function(){var e=this,t=this.stickersOnCanvas.findIndex(function(t){return t.id===e.activeStickerId}),n=this.stickersOnCanvas[t];this.stickersOnCanvas.splice(t,1),this.stickersOnCanvas.push(n),this.stickerPosition_past.x=this.stickersOnCanvas[this.stickersOnCanvas.length-1].positionX,this.stickerPosition_past.y=this.stickersOnCanvas[this.stickersOnCanvas.length-1].positionY,this.stickerSize_past.width=this.stickersOnCanvas[this.stickersOnCanvas.length-1].width,this.stickerSize_past.height=this.stickersOnCanvas[this.stickersOnCanvas.length-1].height}},{key:"moveSticker",value:function(){this.stickersOnCanvas[this.stickersOnCanvas.length-1].positionX+=this.diffX,this.stickersOnCanvas[this.stickersOnCanvas.length-1].positionY+=this.diffY}},{key:"resizeSticker",value:function(){switch(this.clickProperty){case this.LEFT_TOP_POINT:this.resizeHandleLeftTop();break;case this.LEFT_BOTTOM_POINT:this.resizeHandleLeftBottom();break;case this.RIGHT_BOTTOM_POINT:this.resizeHandleRightBottom();break;case this.RIGHT_TOP_POINT:this.resizeHandleRightTop()}}},{key:"adjustSize",value:function(e,t){this.stickersOnCanvas.length}},{key:"resize",value:function(e,t){var n=this.stickersOnCanvas.length-1,i=this.stickersOnCanvas[n],s=i.width+Math.abs(e),r=i.height+Math.abs(t);this.adjustSize(s,r)}},{key:"resizeHandleRightBottom",value:function(){var e=this.diffX,t=this.diffY;this.resize(e,t)}},{key:"handleClickStickerList",value:function(e,t){this.addSticker(e),this.renderStickers()}},{key:"addSticker",value:function(e){var t=new g(e.dataset.stickerNum,this.stickerId);this.stickersOnCanvas.push(t),this.activeStickerId=this.stickerId,this.stickerId++}},{key:"renderStickers",value:function(){this.offScreenContext.clearRect(0,0,300,300),this.offScreenContext.drawImage(this.$backImageScreen,0,0,300,300);for(var e=new Image,t="grey",n=2,i=0;i<this.stickersOnCanvas.length;i++){i===this.stickersOnCanvas.length-1&&(t="white",n=3),e.src=this.stickersOnCanvas[i].src;var s=this.stickersOnCanvas[i].positionX,r=this.stickersOnCanvas[i].positionY,o=this.stickersOnCanvas[i].width,a=this.stickersOnCanvas[i].height;this.offScreenContext.drawImage(e,s,r,o,a),this.drawFrameLine(s,r,o,a,t),this.drawCornerMark(s,r,o,a,n)}this.context.clearRect(0,0,300,300),this.context.drawImage(this.$offScreen,0,0,300,300)}},{key:"drawFrameLine",value:function(e,t,n,i,s){this.offScreenContext.strokeStyle=s,this.offScreenContext.beginPath(),this.offScreenContext.strokeRect(e,t,n,i)}},{key:"drawCornerMark",value:function(e,t,n,i,s){this.offScreenContext.strokeStyle="black",this.offScreenContext.fillStyle="white",this.drawArc(e,t,s),this.drawArc(e,t+i,s),this.drawArc(e+n,t,s),this.drawArc(e+n,t+i,s)}},{key:"drawArc",value:function(e,t,n){this.offScreenContext.beginPath(),this.offScreenContext.arc(e,t,n,0,2*Math.PI,!1),this.offScreenContext.stroke()}},{key:"renderOutputImage",value:function(){this.offScreenContext.clearRect(0,0,300,300),this.offScreenContext.drawImage(this.$backImageScreen,0,0,300,300);for(var e=new Image,t=0;t<this.stickersOnCanvas.length;t++){e.src=this.stickersOnCanvas[t].src;var n=this.stickersOnCanvas[t].positionX,i=this.stickersOnCanvas[t].positionY,s=this.stickersOnCanvas[t].width,r=this.stickersOnCanvas[t].height;this.offScreenContext.drawImage(e,n,i,s,r)}this.context.clearRect(0,0,300,300),this.context.drawImage(this.$offScreen,0,0,300,300)}},{key:"createImage",value:function(){var e=this.$canvas.toDataURL();document.querySelector(".image").src=e}}])&&d(n.prototype,i),r&&d(n,r),t}();n(99);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=O(this,T(t).call(this))).$canvas=document.querySelector(".canvas"),e.context=e.$canvas.getContext("2d"),e.$offScreen=document.createElement("canvas"),e.$offScreen.width=e.$canvas.width,e.$offScreen.height=e.$canvas.height,e.offScreenContext=e.$offScreen.getContext("2d"),e.$scaleUpButton=document.querySelector(".js-scaleUp"),e.$scaleDownButton=document.querySelector(".js-scaleDown"),e.$scaleOkButton=document.querySelector(".js-scaleOk"),e}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,s.a),n=t,(i=[{key:"init",value:function(e){this.$scaleUpButton.classList.remove("js-hide"),this.$scaleDownButton.classList.remove("js-hide"),this.$scaleOkButton.classList.remove("js-hide"),this.originalImage=e,this.imageWidth=300,this.imageHeight=300,this.positionX=0,this.positionY=0,this.lastTranslateX=0,this.lastTranslateY=0,this.lastScreenX=0,this.lastScreenY=0,this.diffX=0,this.diffY=0,this.lastLength=0,this.lastScale=1,this.renderX=0,this.renderY=0,this.renderWidth=0,this.renderHeight=0,this.isTouched=!1,this.isDoubleTouched=!1,this.bind()}},{key:"bind",value:function(){var e=this;this.handlers={mousedown:this.handleMouseDown.bind(this),mousemove:this.handleMouseMove.bind(this),mouseup:this.handleMouseUp.bind(this),touchstart:this.handleTouchStart.bind(this),touchmove:this.handleTouchMove.bind(this),touchend:this.handleTouchEnd.bind(this)},this.$canvas.addEventListener("mousedown",this.handlers.mousedown),this.$canvas.addEventListener("mousemove",this.handlers.mousemove),document.addEventListener("mouseup",this.handlers.mouseup),this.$canvas.addEventListener("touchstart",this.handlers.touchstart),this.$canvas.addEventListener("touchmove",this.handlers.touchmove),document.addEventListener("touchend",this.handlers.touchend),this.$scaleUpButton.addEventListener("click",function(t){t.preventDefault();e.resize(1.1),e.render()}),this.$scaleDownButton.addEventListener("click",function(t){t.preventDefault();e.resize(1/1.1),e.render()}),this.$scaleOkButton.addEventListener("click",function(){e.$scaleUpButton.classList.add("js-hide"),e.$scaleDownButton.classList.add("js-hide"),e.$scaleOkButton.classList.add("js-hide"),e.$canvas.removeEventListener("mousedown",e.handlers.mousedown),e.$canvas.removeEventListener("mousemove",e.handlers.mousemove),document.removeEventListener("mouseup",e.handlers.mouseup),e.$canvas.removeEventListener("touchstart",e.handlers.touchstart),e.$canvas.removeEventListener("touchmove",e.handlers.touchmove),document.removeEventListener("touchend",e.handlers.mouseup),e.emit("requestedRenderSticker",e.context)})}},{key:"handleMouseDown",value:function(e){var t=e.screenX,n=e.screenY;this.lastScreenX=t,this.lastScreenY=n,this.isTouched=!0}},{key:"handleMouseMove",value:function(e){this.isTouched&&this.singleTouchMove(e)}},{key:"handleMouseUp",value:function(){this.resetValues()}},{key:"resetValues",value:function(){this.isTouched=!1,this.isDoubleTouched=!1,this.lastTranslateX=0,this.lastTranslateY=0,this.diffX=0,this.diffY=0,this.lastScreenX=0,this.lastScreenY=0}},{key:"handleTouchStart",value:function(e){var t=e.touches;e.preventDefault(),1===t.length?this.singleTouchStart(e):(this.doubleTouchStart(e),this.isDoubleTouched=!0),this.isTouched=!0}},{key:"handleTouchMove",value:function(e){if(this.isTouched){var t=e.touches;1===t.length?this.singleTouchMove(e):t.length>=2&&this.isDoubleTouched&&this.doubleTouchMove(e)}}},{key:"handleTouchEnd",value:function(){this.resetValues()}},{key:"singleTouchStart",value:function(e){var t=e.touches;this.lastScreenX=t[0].screenX,this.lastScreenY=t[0].screenY}},{key:"doubleTouchStart",value:function(e){var t=e.touches,n=t[0].screenX,i=t[1].screenX,s=t[0].screenY,r=t[1].screenY;this.lastLength=Math.hypot(i-n,r-s),this.lastScreenX=(i+n)/2,this.lastScreenY=(r+s)/2,this.isDoubleTouched=!0}},{key:"singleTouchMove",value:function(e){var t="touchmove"===e.type?e.touches[0].screenX:e.screenX,n="touchmove"===e.type?e.touches[0].screenY:e.screenY;this.diffX=t-this.lastScreenX,this.diffY=n-this.lastScreenY,this.lastTranslateX+=this.diffX,this.lastTranslateY+=this.diffY,this.moveImage(),this.render(),this.lastScreenX=t,this.lastScreenY=n}},{key:"doubleTouchMove",value:function(e){var t=e.touches,n=t[0].screenX,i=t[1].screenX,s=t[0].screenY,r=t[1].screenY,o=(i+n)/2,a=(r+s)/2,c=Math.hypot(i-n,r-s),h=c/this.lastLength;this.diffX=o-this.lastScreenX,this.diffY=a-this.lastScreenY,this.lastTranslateX+=this.diffX,this.lastTranslateY+=this.diffY,this.resize(h),this.moveImage(),this.render(),this.lastLength=c,this.lastScreenX=o,this.lastScreenY=a}},{key:"resize",value:function(e){var t=this.lastScale*e,n=this.positionX+this.imageWidth*this.lastScale/2-150,i=this.positionY+this.imageHeight*this.lastScale/2-150;this.renderWidth=this.imageWidth*t,this.renderHeight=this.imageHeight*t,this.renderX=e*n-this.renderWidth/2+150,this.renderY=e*i-this.renderHeight/2+150,this.positionX=this.renderX,this.positionY=this.renderY,this.lastScale=t}},{key:"moveImage",value:function(){this.positionX+=this.diffX,this.positionY+=this.diffY,this.renderWidth=this.imageWidth*this.lastScale,this.renderHeight=this.imageHeight*this.lastScale,this.renderX=this.positionX,this.renderY=this.positionY}},{key:"adjustSize",value:function(){}},{key:"render",value:function(){this.adjustSize(),this.context.clearRect(0,0,300,300),this.offScreenContext.putImageData(this.originalImage,0,0),this.context.drawImage(this.$offScreen,this.renderX,this.renderY,this.renderWidth,this.renderHeight)}}])&&b(n.prototype,i),r&&b(n,r),t}();function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.camera=new u,this.imageEdit=new I,this.$canvas=document.querySelector(".canvas"),this.context=this.$canvas.getContext("2d"),this.originalImage=null,this.bind()}var t,n,i;return t=e,(n=[{key:"bind",value:function(){var e=this;this.camera.on("renderCameraImage",function(t){e.originalImage=t.getImageData(0,0,300,300),e.imageEdit.init(e.originalImage)}),this.imageEdit.on("requestedRenderSticker",function(t){e.originalImage=t.getImageData(0,0,300,300),e.sticker=new y(e.originalImage)})}}])&&C(t.prototype,n),i&&C(t,i),e}())}});